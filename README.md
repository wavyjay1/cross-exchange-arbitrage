##### å…³æ³¨æˆ‘ **X (Twitter)**: [@yourQuantGuy](https://x.com/yourQuantGuy)

---

**English speakers**: Please read [README_EN.md](README_EN.md) for the English version of this documentation.

---

## é‚€è¯·é“¾æ¥ (è·å¾—è¿”ä½£ä»¥åŠç¦åˆ©)

#### edgeX: [https://pro.edgex.exchange/referral/QUANT](https://pro.edgex.exchange/referral/QUANT)

æ°¸ä¹…äº«å— VIP 1 è´¹ç‡ï¼›é¢å¤– 10% æ‰‹ç»­è´¹è¿”ä½£ï¼›10% é¢å¤–å¥–åŠ±ç§¯åˆ†

#### Backpack: [https://backpack.exchange/join/quant](https://backpack.exchange/join/quant)

ä½¿ç”¨æˆ‘çš„æ¨èé“¾æ¥è·å¾— 35% æ‰‹ç»­è´¹è¿”ä½£

#### Paradex: [https://app.paradex.trade/r/quant](https://app.paradex.trade/r/quant)

ä½¿ç”¨æˆ‘çš„æ¨èé“¾æ¥è·å¾— 10% æ‰‹ç»­è´¹è¿”ä½£ä»¥åŠ 5% ç§¯åˆ†åŠ æˆ

#### grvt: [https://grvt.io/exchange/sign-up?ref=QUANT](https://grvt.io/exchange/sign-up?ref=QUANT)

è·å¾— 1.3x å…¨ç½‘æœ€é«˜çš„ç§¯åˆ†åŠ æˆï¼›30% æ‰‹åŠ¨åä½£

#### Extended: [https://app.extended.exchange/join/QUANT](https://app.extended.exchange/join/QUANT)

10%çš„å³æ—¶æ‰‹ç»­è´¹å‡å…ï¼›5% ç§¯åˆ†åŠ æˆ

---

# è·¨äº¤æ˜“æ‰€å¥—åˆ©æœºå™¨äºº

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŠ å¯†è´§å¸æœŸè´§è·¨æ‰€å¥—åˆ©çš„æ¡†æ¶ï¼Œä»…ä¸ºåˆ†äº«äº¤æµç›®çš„ï¼Œä¸èƒ½ç›´æ¥ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå®é™…äº¤æ˜“éœ€è°¨æ…ä½¿ç”¨ã€‚

## é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªè·¨äº¤æ˜“æ‰€å¥—åˆ©äº¤æ˜“æœºå™¨äººï¼Œç›®å‰ä¸»è¦åœ¨ **edgeX** å’Œ **Lighter** ä¸¤ä¸ªäº¤æ˜“æ‰€ä¹‹é—´è¿›è¡Œä»·å·®å¥—åˆ©ã€‚æœºå™¨äººé€šè¿‡åœ¨ edgeX ä¸ŠæŒ‚ post-only é™ä»·å•ï¼ˆåšå¸‚å•ï¼‰ï¼Œåœ¨ Lighter ä¸Šæ‰§è¡Œå¸‚ä»·å•æ¥å®Œæˆå¥—åˆ©äº¤æ˜“ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”„ **è·¨äº¤æ˜“æ‰€å¥—åˆ©**ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶åˆ©ç”¨ä¸¤ä¸ªäº¤æ˜“æ‰€ä¹‹é—´çš„ä»·å·®
- ğŸ“Š **å®æ—¶è®¢å•ç°¿ç®¡ç†**ï¼šé€šè¿‡ WebSocket å®æ—¶ç›‘æ§è®¢å•ç°¿å˜åŒ–
- ğŸ“ˆ **ä»“ä½è·Ÿè¸ª**ï¼šå®æ—¶è·Ÿè¸ªå’Œç®¡ç†äº¤æ˜“ä»“ä½
- ğŸ›¡ï¸ **é£é™©æ§åˆ¶**ï¼šæ”¯æŒæœ€å¤§ä»“ä½é™åˆ¶å’Œè¶…æ—¶æ§åˆ¶
- ğŸ“ **æ•°æ®è®°å½•**ï¼šè®°å½•äº¤æ˜“æ•°æ®å’Œç»Ÿè®¡ä¿¡æ¯
- âš¡ **å¼‚æ­¥æ‰§è¡Œ**ï¼šåŸºäº asyncio çš„é«˜æ€§èƒ½å¼‚æ­¥æ¶æ„

## ç³»ç»Ÿè¦æ±‚

- Python 3.8+
- edgeX å’Œ Lighter äº¤æ˜“æ‰€è´¦æˆ·
- API å¯†é’¥å’Œè®¿é—®æƒé™

## å®‰è£…æ­¥éª¤

### 1. å…‹éš†ä»“åº“

```bash
git clone <repository-url>
cd cross-exchange-arbitrage
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
python -m venv venv
```

æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š

**macOS/Linux:**

```bash
source venv/bin/activate
```

**Windows:**

```bash
venv\Scripts\activate
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 4. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `env_example.txt` ä¸º `.env` å¹¶å¡«å†™æ‚¨çš„ API å‡­è¯ï¼š

```bash
cp env_example.txt .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API ä¿¡æ¯ï¼š

```env
# edgeX è´¦æˆ·å‡­è¯ï¼ˆå¿…éœ€ï¼‰
EDGEX_ACCOUNT_ID=your_account_id_here
EDGEX_STARK_PRIVATE_KEY=your_stark_private_key_here

# EdgeX API ç«¯ç‚¹
EDGEX_BASE_URL=https://pro.edgex.exchange
EDGEX_WS_URL=wss://quote.edgex.exchange

# Lighter é…ç½®ï¼ˆå¿…éœ€ï¼‰
API_KEY_PRIVATE_KEY=your_api_key_private_key_here
LIGHTER_ACCOUNT_INDEX=your_account_index
LIGHTER_API_KEY_INDEX=your_api_key_index
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
python arbitrage.py --ticker BTC --size 0.002
```

### å‘½ä»¤è¡Œå‚æ•°

- `--exchange`ï¼šäº¤æ˜“æ‰€åç§°ï¼ˆé»˜è®¤ï¼šedgexï¼‰
- `--ticker`ï¼šäº¤æ˜“å¯¹ç¬¦å·ï¼ˆé»˜è®¤ï¼šBTCï¼‰
- `--size`ï¼šæ¯ç¬”è®¢å•çš„äº¤æ˜“æ•°é‡ï¼ˆå¿…éœ€ï¼‰
- `--max-position`ï¼šæœ€å¤§æŒä»“é™åˆ¶ï¼ˆå¿…éœ€ï¼‰
- `--long-threshold`ï¼šåšå¤šå¥—åˆ©è§¦å‘é˜ˆå€¼ï¼ˆLighter ä¹°ä¸€ä»·é«˜äº edgeX å–ä¸€ä»·è¶…è¿‡å¤šå°‘å³åšå¤š edgeX å¥—åˆ©ï¼Œé»˜è®¤ï¼š10ï¼‰
- `--short-threshold`ï¼šåšç©ºå¥—åˆ©è§¦å‘é˜ˆå€¼ï¼ˆedgeX ä¹°ä¸€ä»·é«˜äº Lighter å–ä¸€ä»·è¶…è¿‡å¤šå°‘å³åšç©º edgeX å¥—åˆ©ï¼Œé»˜è®¤ï¼š10ï¼‰
- `--fill-timeout`ï¼šé™ä»·å•æˆäº¤è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼Œé»˜è®¤ï¼š5ï¼‰

### ä½¿ç”¨ç¤ºä¾‹

```bash
# äº¤æ˜“ ETHï¼Œæ¯ç¬”è®¢å• 0.01 ETHï¼Œè®¾ç½® 5 ç§’è¶…æ—¶
python arbitrage.py --ticker ETH --size 0.01 --long-threshold 10 --short-threshold 10 --max-position 0.1 --fill-timeout 5

# äº¤æ˜“ BTCï¼Œé™åˆ¶æœ€å¤§æŒä»“ä¸º 0.1 BTC
python arbitrage.py --ticker BTC --size 0.002 --long-threshold 1 --short-threshold 20 --max-position 0.1
```

## é¡¹ç›®ç»“æ„

```
cross-exchange-arbitrage/
â”œâ”€â”€ arbitrage.py              # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ exchanges/                # äº¤æ˜“æ‰€æ¥å£å®ç°
â”‚   â”œâ”€â”€ base.py              # åŸºç¡€äº¤æ˜“æ‰€æ¥å£
â”‚   â”œâ”€â”€ edgex.py             # edgeX äº¤æ˜“æ‰€å®ç°
â”‚   â”œâ”€â”€ lighter.py           # Lighter äº¤æ˜“æ‰€å®ç°
â”‚   â””â”€â”€ lighter_custom_websocket.py  # Lighter WebSocket ç®¡ç†
â”œâ”€â”€ strategy/                 # äº¤æ˜“ç­–ç•¥æ¨¡å—
â”‚   â”œâ”€â”€ edgex_arb.py         # ä¸»è¦å¥—åˆ©ç­–ç•¥
â”‚   â”œâ”€â”€ order_book_manager.py    # è®¢å•ç°¿ç®¡ç†
â”‚   â”œâ”€â”€ order_manager.py     # è®¢å•ç®¡ç†
â”‚   â”œâ”€â”€ position_tracker.py  # ä»“ä½è·Ÿè¸ª
â”‚   â”œâ”€â”€ websocket_manager.py # WebSocket ç®¡ç†
â”‚   â””â”€â”€ data_logger.py       # æ•°æ®è®°å½•
â”œâ”€â”€ requirements.txt         # Python ä¾èµ–
â”œâ”€â”€ env_example.txt          # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## å·¥ä½œåŸç†

1. **è®¢å•ç°¿ç›‘æ§**ï¼šé€šè¿‡ WebSocket å®æ—¶æ¥æ”¶ä¸¤ä¸ªäº¤æ˜“æ‰€çš„è®¢å•ç°¿æ›´æ–°
2. **ä»·å·®æ£€æµ‹**ï¼šè®¡ç®—ä¸¤ä¸ªäº¤æ˜“æ‰€ä¹‹é—´çš„ä»·å·®
3. **å¥—åˆ©æœºä¼šè¯†åˆ«**ï¼šå½“ä»·å·®è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œè¯†åˆ«å¥—åˆ©æœºä¼š
4. **è®¢å•æ‰§è¡Œ**ï¼š
   - åœ¨ edgeX ä¸ŠæŒ‚ post-only é™ä»·å•ï¼ˆåšå¸‚å•ï¼Œèµšå–æ‰‹ç»­è´¹ï¼‰
   - åœ¨ Lighter ä¸Šæ‰§è¡Œå¸‚ä»·å•å®Œæˆå¯¹å†²
5. **ä»“ä½ç®¡ç†**ï¼šå®æ—¶è·Ÿè¸ªä»“ä½ï¼Œç¡®ä¿ä¸è¶…è¿‡æœ€å¤§æŒä»“é™åˆ¶
6. **é£é™©æ§åˆ¶**ï¼šç›‘æ§è®¢å•æˆäº¤çŠ¶æ€ï¼Œè¶…æ—¶æœªæˆäº¤åˆ™å–æ¶ˆè®¢å•

## æ³¨æ„äº‹é¡¹

âš ï¸ **é£é™©æç¤º**ï¼š

- å¥—åˆ©äº¤æ˜“å­˜åœ¨å¸‚åœºé£é™©ï¼Œè¯·ç¡®ä¿å……åˆ†ç†è§£äº¤æ˜“æœºåˆ¶
- å»ºè®®å…ˆåœ¨æµ‹è¯•ç¯å¢ƒæˆ–å°é¢èµ„é‡‘ä¸‹æµ‹è¯•
- æ³¨æ„ç½‘ç»œå»¶è¿Ÿå’Œäº¤æ˜“æ‰€ API é™åˆ¶
- å®šæœŸæ£€æŸ¥ä»“ä½å’Œèµ„é‡‘çŠ¶å†µ

## ä¾èµ–è¯´æ˜

ä¸»è¦ä¾èµ–åŒ…æ‹¬ï¼š

- `python-dotenv`ï¼šç¯å¢ƒå˜é‡ç®¡ç†
- `asyncio`ï¼šå¼‚æ­¥ç¼–ç¨‹æ”¯æŒ
- `requests`ï¼šHTTP è¯·æ±‚
- `tenacity`ï¼šé‡è¯•æœºåˆ¶
- `edgex-python-sdk`ï¼šedgeX å®˜æ–¹ Python SDKï¼ˆfork ç‰ˆæœ¬ï¼Œæ”¯æŒ post-only é™ä»·å•ï¼‰
- `lighter-python`ï¼šLighter äº¤æ˜“æ‰€ SDK

## è®¸å¯è¯

è¯·æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ Issue è”ç³»ã€‚
